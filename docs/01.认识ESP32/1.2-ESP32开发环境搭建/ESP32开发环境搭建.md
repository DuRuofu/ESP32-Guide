# ä¸€ã€Windowsç³»ç»Ÿ

## 1.1 ä½¿ç”¨VS Codeæ’ä»¶ç›´æ¥å®‰è£…

åœ¨Windowsç³»ç»Ÿä¸‹ä½¿ç”¨VS Codeæ’ä»¶ç›´æ¥å®‰è£…ESP-IDFå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[Install ESP-IDF and Tools](https://docs.espressif.com/projects/vscode-esp-idf-extension/zh_CN/latest/installation.html)ï¼Œä¸‹é¢ä»‹ç»å®‰è£…è¿‡ç¨‹ï¼š

å®‰è£…VS Codeï¼Œå¹¶å®‰è£…ESP-IDFæ’ä»¶

![](attachments/20241230173816.png)

æŒ‰Ctrl+Shift+Pæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥`Configure ESP-IDF Extension`

![](attachments/20241230174252.png)

é€‰æ‹©`ESP-IDFï¼š Configure ESP-IDF Extension`è¿™ä¸€é¡¹æ¥é…ç½®æ’ä»¶ï¼Œé€‰æ‹©åé¡µé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](attachments/20241230174358.png)

è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Expresså¿«é€Ÿå®‰è£…ã€‚

![](attachments/20241230180528.png)

ç¬¬ä¸€é¡¹ä¸ºä¸‹è½½æœåŠ¡å™¨é€‰é¡¹ï¼Œæ¨èä½¿ç”¨ Espressif ä¸‹è½½æœåŠ¡å™¨ã€‚
ç¬¬äºŒé¡¹ä¸ºESP-IDFç‰ˆæœ¬ï¼Œå»ºè®®é€‰æ‹©Vå¼€å¤´çš„æ­£å¼å‘å¸ƒæ¿ï¼Œæœ¬æ•™ç¨‹ä½¿ç”¨V5.2.3ç‰ˆæœ¬ã€‚
ç¬¬ä¸‰é¡¹ESP-IDFæºç ä½ç½®ï¼Œè¯·é€‰æ‹©ä¸å¸¦ç©ºæ ¼çš„è·¯å¾„ï¼Œä¸”å¯¹åº”æ–‡ä»¶å¤¹éœ€è¦ä¸ºç©ºã€‚
ç¬¬å››é¡¹ESP-IDF å·¥å…· ä½ç½®ï¼Œè¦æ±‚åŒä¸Šï¼Œ**ä½†ä¸èƒ½ä¸ç¬¬ä¸‰é¡¹ç›¸åŒ**ï¼
è¿™é‡Œæˆ‘ä»¬é€‰æ‹©åœ¨Dç›˜æ ¹ç›®å½•ä¸‹æ–°å»º`Espressif`æ–‡ä»¶å¤¹ã€‚

ç„¶åç‚¹å‡»å®‰è£…å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](attachments/20241230175629.png)

ç­‰å¾…åå‡ åˆ†é’Ÿå³å¯å®‰è£…å®Œæˆï¼ˆç½‘ç»œå·®å¯èƒ½ä¼šä¹…ä¸€ç‚¹ï¼‰ï¼Œå®‰è£…å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](attachments/20241230184622.png)

è‡³æ­¤å¼€å‘ç¯å¢ƒå®‰è£…å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€ä¸€ä¸ªç¤ºä¾‹å·¥ç¨‹ç¼–è¯‘ï¼ŒéªŒè¯å®‰è£…æ˜¯å¦å®Œæˆã€‚


ç‚¹å‡»shown examples é€‰æ‹©åˆšæ‰ä¸‹è½½çš„IDFç‰ˆæœ¬

![](attachments/20241230185003.png)


éšä¾¿é€‰æ‹©ä¸€ä¸ªç¤ºä¾‹å·¥ç¨‹ï¼Œè¿™é‡Œä»¥blinkå·¥ç¨‹ä¸ºä¾‹ï¼š

![](attachments/20241230184954.png)


ç‚¹å‡»æ–°å»ºç¤ºä¾‹é¡¹ç›®ï¼Œé€‰æ‹©ä¸€ä¸ªå­˜å‚¨ä½ç½®ï¼š

![](attachments/20241230185234.png)

VS Codeä¼šè‡ªåŠ¨æ‰“å¼€é¡¹ç›®ç›®å½•ï¼Œå¦‚ä¸‹ï¼š

![](attachments/20241230185528.png)

ç‚¹å‡»æ‰³æ‰‹å›¾æ ‡æ„å»ºé¡¹ç›®ï¼š

![](attachments/20241230185634.png)

ç¼–è¯‘åœæ­¢åï¼Œå‘½ä»¤è¡Œæ˜¾ç¤ºä¸‹åˆ—å†…å®¹ï¼Œåˆ™å¼€å‘ç¯å¢ƒå®‰è£…æ— è¯¯ã€‚è‡³æ­¤ESP32çš„å¼€å‘ç¯å¢ƒå°±å‡†å¤‡å®Œæ¯•äº†ã€‚

![](attachments/20241230190036.png)

è‡³äºè¿›ä¸€æ­¥çƒ§å½•ä»£ç è‡³å¼€å‘æ¿ï¼Œå°†åœ¨ä¸‹ä¸€èŠ‚ä»‹ç»ã€‚

## 1.2 æ‰‹åŠ¨å®‰è£…

Windowsç³»ç»Ÿä¸‹æ‰‹åŠ¨å®‰è£…å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[Windows å¹³å°å·¥å…·é“¾çš„æ ‡å‡†è®¾ç½®](https://docs.espressif.com/projects/esp-idf/zh_CN/stable/esp32/get-started/windows-setup.html#),ä¸‹é¢ç®€å•ä»‹ç»å®‰è£…è¿‡ç¨‹ï¼š

æ‰“å¼€ä¸‹é¢çš„é“¾æ¥ï¼Œä¸‹è½½ ESP-IDF å·¥å…·å®‰è£…å™¨

>https://docs.espressif.com/projects/esp-idf/zh_CN/stable/esp32/get-started/windows-setup.html

![](attachments/20241230181401.png)

é€‰æ‹©è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œä»¥V5.2.3ç‰ˆæœ¬ä¸ºä¾‹ï¼ˆåç»­æ•™ç¨‹ä¹Ÿä½¿ç”¨è¯¥ç‰ˆæœ¬ï¼‰

![](attachments/20241230181701.png)

ä¸‹è½½å®Œæˆåæ‰“å¼€esp-idf-tools-setup-offline-x.x.x.exeç¨‹åºå³å¯å¼€å§‹å®‰è£…

![](attachments/20241230195856.png)

é€‰æ‹©å®‰è£…è·¯å¾„ï¼š

![](attachments/20241230195935.png)

é€‰æ‹©éœ€è¦çš„ç»„ä»¶å’Œé©±åŠ¨ç¨‹åºï¼ˆå»ºè®®å…¨é€‰ï¼‰ï¼š

![](attachments/20241230200003.png)

ç­‰å¾…å®‰è£…å®Œæˆå³å¯ï¼Œå®‰è£…å®Œæˆå¦‚ä¸‹å›¾ï¼š

![](attachments/20241230200620.png)

ä¸‹é¢ç¼–è¯‘ä¸€ä¸ªç¤ºä¾‹å·¥ç¨‹ï¼Œä»¥ç¡®ä¿ESP-IDFå¯ä»¥æ­£å¸¸å·¥ä½œï¼Œç¤ºä¾‹ä»£ç ä½äº`å®‰è£…ç›®å½•\frameworks\esp-idf-v5.2.3\examples`,å¦‚ä¸‹å›¾:

![](attachments/20241230201034.png)

å¤åˆ¶`examples/get-started`ä¸‹çš„`blink`ç‚¹ç¯å·¥ç¨‹åˆ°æ¡Œé¢ï¼ˆæˆ–å…¶ä»–ä½ç½®ï¼‰ï¼Œåœ¨å®‰è£…å®Œæˆåå¼¹å‡ºçš„å‘½ä»¤è¡Œä¸­åˆ‡æ¢åˆ°`blink`ç›®å½•ï¼Œå¹¶è¿è¡Œ`idf.py build`å‘½ä»¤ï¼š

![](attachments/20241230201518.png)

è¿è¡Œåç¼–è¯‘å®Œæˆè¾“å‡ºå¦‚ä¸‹ï¼Œåˆ™å¼€å‘ç¯å¢ƒå®‰è£…æ— è¯¯ï¼Œè‡³æ­¤ESP32çš„å¼€å‘ç¯å¢ƒå°±å‡†å¤‡å®Œæ¯•äº†ã€‚

![](attachments/20241230202342.png)


**ä½†å¦‚æœè¦ä½¿ç”¨VS Codeæ’ä»¶åŠŸèƒ½ï¼Œè¿˜éœ€è¦ç»§ç»­ä¸‹é¢çš„æ­¥éª¤ï¼ˆå¯é€‰ï¼Œä¸ä½¿ç”¨æ’ä»¶è¿›è¡Œå¼€å‘ä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ï¼‰ï¼š**

ä¾ç„¶æ˜¯å®‰è£…VS Codeï¼Œå¹¶å®‰è£…ESP-IDFæ’ä»¶

![](attachments/20241230173816.png)

æŒ‰Ctrl+Shift+Pæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥`Configure ESP-IDF Extension`

![](attachments/20241230174252.png)

é€‰æ‹©`ESP-IDFï¼š Configure ESP-IDF Extension`è¿™ä¸€é¡¹æ¥é…ç½®æ’ä»¶ï¼Œé€‰æ‹©åé¡µé¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](attachments/20241230174358.png)

è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰ä¸ªé€‰é¡¹ï¼Œä½¿ç”¨ç°æœ‰è®¾ç½®ï¼Œè®¾ç½®`Enter ESP-IDF directory (IDF_PATH)`ä¸ºå®‰è£…æ ¹ç›®å½•ä¸‹çš„`frameworks\esp-idf-v5.2.3`ç›®å½•ï¼Œè®¾ç½®`Enter ESP-IDF Tools directory (IDF_TOOLS_PATH)`ä¸ºå®‰è£…æ ¹ç›®å½•ï¼Œå¦‚ä¸‹å›¾ï¼ˆæœ¬æ•™ç¨‹ä¸­å®‰è£…æ ¹ç›®å½•ä¸º`c:\Espressif\V523`ï¼‰

![](attachments/20241230203618.png)

ç‚¹å‡»å®‰è£…ï¼Œç­‰å¾…åå‡ åˆ†é’Ÿå®‰è£…å®Œæˆå³å¯ï¼Œè¦æ³¨æ„çš„æ˜¯è™½ç„¶æ˜¯ç¦»çº¿å®‰è£…ï¼Œä½†è¿™ä¸ªæ­¥éª¤ä¾èµ–ç½‘ç»œä¸‹è½½pythonç¯å¢ƒç›¸å…³çš„å·¥å…·ï¼Œå®¹æ˜“å¤±è´¥ï¼ˆå¤±è´¥å¾ˆå¤§å¯èƒ½æ˜¯ç½‘ç»œå¼•èµ·çš„ï¼Œä¸å¦¨æ¢ä¸ªç½‘ç»œç¯å¢ƒé‡æ–°å°è¯•ğŸ˜‚ï¼‰

![](attachments/20241230203707.png)


å®‰è£…æˆåŠŸæ˜¾ç¤ºå¦‚ä¸‹ï¼š

![](attachments/20241230204358.png)


# äºŒã€Linuxç³»ç»Ÿ

## 2.1 ä½¿ç”¨VS Codeæ’ä»¶ç›´æ¥å®‰è£…

è¿™ç§å®‰è£…æ–¹æ³•å’Œ1.1ä»‹ç»çš„Windowsä¸‹ä½¿ç”¨VS Codeæ’ä»¶ç›´æ¥å®‰è£…æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œå‚è€ƒ1.1éƒ¨åˆ†å’Œå®˜æ–¹æ–‡æ¡£ä¸­é’ˆå¯¹Linuxç³»ç»Ÿçš„æç¤ºå³å¯ï¼Œè¿™é‡Œå°±ä¸å±•å¼€æè¿°äº†ã€‚

å»ºè®®ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[Install ESP-IDF and Tools](https://docs.espressif.com/projects/vscode-esp-idf-extension/zh_CN/latest/installation.html)è¿›è¡Œå®‰è£…ï¼Œä½†ç›¸æ¯”äºåœ¨Linuxä¸‹ä½¿ç”¨VS codeå®‰è£…ï¼Œç¬”è€…æ›´å»ºè®®ç›´æ¥æ‰‹åŠ¨å®‰è£…ã€‚

## 2.2 æ‰‹åŠ¨å®‰è£…

Linuxç³»ç»Ÿä¸‹ä½¿ç”¨ESP-IDFæ›´æ¨èæ‰‹åŠ¨å®‰è£…ï¼Œå› ä¸ºLinuxç³»ç»Ÿä¸‹æˆ‘ä»¬ä½¿ç”¨æ›´å¤šçš„æ˜¯å‘½ä»¤è¡Œï¼ŒVS Codeæ’ä»¶æä¾›çš„å¯è§†åŒ–æ“ä½œå¯æœ‰å¯æ— ã€‚

è¿™éƒ¨åˆ†åŒæ ·å¯ä»¥ä¼˜å…ˆå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[Linux å’Œ macOS å¹³å°å·¥å…·é“¾çš„æ ‡å‡†è®¾ç½®](https://docs.espressif.com/projects/esp-idf/zh_CN/stable/esp32/get-started/linux-macos-setup.html)ï¼Œä¸‹é¢å°±å®‰è£…è¿‡ç¨‹è¿›è¡Œç®€å•è¯´æ˜ï¼š


### 2.2.1 å‡†å¤‡linuxçš„ç”µè„‘æˆ–è€…è™šæ‹Ÿæœº

æ•™ç¨‹ä½¿ç”¨Ubuntu22.04çš„è™šæ‹Ÿæœºç¯å¢ƒï¼Œä»¥å®‰è£…v5.1.2ä¸ºä¾‹ï¼Œ**æ³¨æ„æœ¬æ•™ç¨‹åç»­ä½¿ç”¨v5.2.3è¿›è¡Œæ•™å­¦**ï¼Œè¯»è€…ä¸‹è½½æ—¶å»ºè®®ä¸‹è½½æ–°çš„`v5.2.3`ç‰ˆæœ¬ã€‚

![](attachments/20240125114613.png)


### 2.2.2 ä¸‹è½½ESP-IDFåŒ…ç¯å¢ƒ

ä¸‹è½½ESP-IDFåŒ…ç¯å¢ƒï¼Œè¿™é‡Œæœ‰ä¸¤ç§ä¸‹è½½æ–¹å¼ï¼šç›´æ¥ä½¿ç”¨`git clone`å‘½ä»¤ä¸‹è½½ï¼Œæˆ–è€…æ‰‹åŠ¨å‰å¾€ESP-IDFä»“åº“ä¸‹è½½

**ä½¿ç”¨`git clone`ä¸‹è½½ (ç”±äºç½‘ç»œé—®é¢˜ï¼Œå®¹æ˜“ä¸‹è½½å¤±è´¥)**

åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼š

```sh
mkdir -p ~/esp
cd ~/esp
git clone -b v5.1.2 --recursive https://github.com/espressif/esp-idf.git
```

**æ‰‹åŠ¨ä¸‹è½½**

å‰å¾€ESP-IDFä»“åº“ï¼šhttps://github.com/espressif/esp-idf/releases/tag/v5.1.2 ï¼Œå¦‚ä¸‹ï¼š

![](attachments/20240125120321.png)

æ‰¾åˆ°ï¼š `Download an archive with submodules included `ä¸€é¡¹


![](attachments/20240125120428.png)

ä¸‹è½½å¹¶è§£å‹åˆ° ~/esp/esp-idf å³å¯

> PSï¼šè¿™é‡Œä¹Ÿå¯ä»¥å®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸­ï¼Œä¸ä¼šå†²çª

### 2.2.3 å®‰è£…ä¾èµ–é¡¹

ç¼–è¯‘ ESP-IDF éœ€è¦ä»¥ä¸‹è½¯ä»¶åŒ…ã€‚è¯·æ ¹æ®ä½¿ç”¨çš„ Linux å‘è¡Œç‰ˆæœ¬ï¼Œé€‰æ‹©åˆé€‚çš„å®‰è£…å‘½ä»¤ã€‚

- Ubuntu å’Œ Debian:
```sh
sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0
```

- CentOS 7 & 8:
```sh
sudo yum -y update && sudo yum install git wget flex bison gperf python3 python3-setuptools cmake ninja-build ccache dfu-util libusbx
```

- Arch:
```sh
sudo pacman -S --needed gcc git make flex bison gperf python cmake ninja ccache dfu-util libusb
```

### 2.2.3  å®‰è£…Â ESP-IDF ä½¿ç”¨çš„å„ç§å·¥å…·

è¿™é‡Œä½¿ç”¨å…¨éƒ¨å®‰è£…ï¼š

```sh
cd ~/esp/esp-idf
./install.sh all
```

ESP-IDF å·¥å…·å®‰è£…å™¨ä¼šä¸‹è½½ Github å‘å¸ƒç‰ˆæœ¬ä¸­é™„å¸¦çš„ä¸€äº›å·¥å…·ï¼Œå¦‚æœè®¿é—® Github è¾ƒä¸ºç¼“æ…¢ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œä»è€Œä¼˜å…ˆé€‰æ‹© Espressif çš„ä¸‹è½½æœåŠ¡å™¨è¿›è¡Œ Github èµ„æºä¸‹è½½ã€‚

```sh
cd ~/esp/esp-idf
export IDF_GITHUB_ASSETS="dl.espressif.com/github_assets"
./install.sh
```


è¿™ä¸€æ­¥å¯èƒ½ä¼šé‡åˆ°pythonä¸‹è½½å¤±è´¥çš„é—®é¢˜ï¼š

![](attachments/20240125161324.png)

éœ€è¦ä¿®æ”¹é•œåƒæºï¼š

Linuxä¸‹ï¼Œä¿®æ”¹ ~/.pip/pip.conf (æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åŠæ–‡ä»¶ã€‚æ–‡ä»¶å¤¹è¦åŠ â€œ.â€ï¼Œè¡¨ç¤ºæ˜¯éšè—æ–‡ä»¶å¤¹)
å†…å®¹å¦‚ä¸‹ï¼š

```ini
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host=mirrors.aliyun.com
```

> å¦‚æœè¿˜å¤±è´¥å°±å»ä¿®æ”¹ï¼š~/.config/pip/pip.conf è¿™ä¸ªé…ç½®æ–‡ä»¶

### 2.2.4  é…ç½®å¿«æ·æŒ‡ä»¤

åœ¨ç»ˆç«¯æ‰§è¡Œ`. $HOME/esp/esp-idf/export.sh`  è¿™ä¸ªè„šæœ¬ï¼Œå°±å¯ä»¥åœ¨å½“å‰ç»ˆç«¯ä½¿ç”¨esp-idfå·¥å…·

ä½†æ˜¯æ¯æ¬¡æ‰§è¡Œéƒ½è¦å…ˆä½¿ç”¨è¿™ä¸ªè„šæœ¬æ¿€æ´»ç¯å¢ƒä¸å¤ªæ–¹ä¾¿ï¼Œå¯ä»¥ä¸ºæ‰§è¡ŒÂ `export.sh`Â åˆ›å»ºä¸€ä¸ªåˆ«å

æ‰“å¼€`.bashrc` é…ç½®æ–‡ä»¶
```
nano ~/.bashrc
```

å†™å…¥é…ç½®æ–‡ä»¶ï¼š
![](attachments/20240125164001.png)

æˆ‘è¿™é‡Œå®‰è£…äº†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œäºæ˜¯å†™ä¸¤æ¡å‘½ä»¤

![](attachments/20240125164248.png)

è¦ç«‹å³å¯ç”¨ä¿®æ”¹åçš„ .bashrc æ–‡ä»¶ï¼Œæ— éœ€é‡å¯ç»ˆç«¯ï¼Œåªéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŠ è½½ .bashrc æ–‡ä»¶ï¼š

```sh
source ~/.bashrc
```
### 2.2.5  æµ‹è¯•ç¼–è¯‘

æ‰“å¼€å†ç¨‹ç›®å½•ä¸‹çš„hello_worldç¨‹åºï¼š

![](attachments/20240125165114.png)

ä½¿ç”¨`idf.py build  `å‘½ä»¤ç¼–è¯‘ä»£ç ï¼Œæ˜¾ç¤ºä¸‹é¢çš„å†…å®¹åˆ™ç¼–è¯‘æˆåŠŸ

![](attachments/20240125165709.png)

è‡³æ­¤Linuxä¸‹å¼€å‘ç¯å¢ƒå®‰è£…å®Œæˆã€‚

```
# get_idf_env
alias idf53='. $HOME/esp/v532/esp-idf/export.sh'

```
# ä¸‰ã€(è¿›é˜¶)Windowsä¸‹ä½¿ç”¨sshè°ƒç”¨Linuxç³»ç»Ÿä¸‹çš„å¼€å‘ç¯å¢ƒ


SSH (Secure Shell) æ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œç”¨äºåœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸Šå®‰å…¨åœ°è®¿é—®è¿œç¨‹è®¾å¤‡å’ŒæœåŠ¡å™¨ã€‚å®ƒæä¾›äº†å¼ºå¤§çš„åŠ å¯†åŠŸèƒ½ï¼Œå¯ä»¥ä¿æŠ¤ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡å…å—çªƒå¬ã€ç¯¡æ”¹å’Œä¸­é—´äººæ”»å‡»ã€‚

ä½¿ç”¨ ssh å‘½ä»¤ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼š

``` sh
ssh -p 22 user@host
```

å…¶ä¸­ -pï¼šæŒ‡å®šç«¯å£å· ã€userï¼šç™»å½•çš„ç”¨æˆ·åã€‚hostï¼šç™»å½•çš„ä¸»æœºã€é»˜è®¤çš„ç«¯å£å·ä¸º22ï¼Œå½“ç«¯å£å·ä¸º22çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥ï¼Œç›´æ¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼:

```sh
ssh user@host
```

åœ¨Windowsä¸‹ä½¿ç”¨VS Codeé€šè¿‡SSHè°ƒç”¨Linuxç³»ç»Ÿçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥åœ¨æœ‰æ•ˆæå‡ç¼–è¯‘é€Ÿåº¦çš„åŒæ—¶ï¼Œè¿›ä¸€æ­¥æå‡å¼€å‘ä½“éªŒï¼Œä¸‹é¢æ˜¯è¯¦ç»†çš„æ­¥éª¤ï¼š

## 3.1 é…ç½®SSHè¿æ¥ï¼Œç¡®ä¿å¯ä»¥è¿æ¥

1. ç¡®ä¿LinuxæœåŠ¡å™¨å·²å¯åŠ¨ï¼Œå¹¶è®°å½•å…¶IPåœ°å€æˆ–ä¸»æœºåï¼Œåœ¨Linuxä½¿ç”¨`ifconfig`å‘½ä»¤æŸ¥è¯¢è™šæ‹ŸæœºIPï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨`ip a`å‘½ä»¤ï¼‰ï¼Œæ‰¾ä¸åˆ°å‘½ä»¤ `ifconfig`ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å®ƒï¼š

```sh
sudo apt install net-tools
```

æŸ¥çœ‹IPï¼š

![](attachments/20250105213409.png)


2. åœ¨ Ubuntu ä¸Šå¯ç”¨ SSHï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œå¹¶ä¸”å®‰è£…openssh-serverè½¯ä»¶åŒ…

```sh
sudo apt install openssh-server
```

ä¸€æ—¦å®‰è£…å®Œæˆä¹‹åï¼ŒSSH æœåŠ¡å°†ä¼šè¢«è‡ªåŠ¨å¯åŠ¨ã€‚å¯ä»¥sè¾“å…¥ä¸‹é¢çš„å‘½ä»¤éªŒè¯ SSH æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š

```sh
sudo systemctl status ssh
```

å¦‚æœé˜²ç«å¢™è¢«å¯ç”¨ï¼Œè¿˜éœ€è¦ä¸‹é¢çš„å‘½ä»¤æ‰“å¼€äº† SSH ç«¯å£

```sh
sudo ufw allow ssh
```

3. åœ¨Windowsçš„CMDè¿›è¡Œæµ‹è¯•è¿æ¥ï¼Œssh ç”¨æˆ·å@æœåŠ¡å™¨IPåœ°å€

![](attachments/20250105213305.png)
  
  è¿™ä¸€æ­¥å¯èƒ½éœ€è¦åœ¨Windowsä¸Šå®‰è£…OpenSSHå®¢æˆ·ç«¯ï¼ˆé»˜è®¤Windows 10åŠä»¥ä¸Šç‰ˆæœ¬è‡ªå¸¦ï¼‰
## 3.2 å®‰è£…Remote - SSHæ’ä»¶

æ‰“å¼€VS Codeï¼Œç‚¹å‡»å·¦ä¾§çš„æ‰©å±•å¸‚åœºå›¾æ ‡ï¼Œæœç´¢`Remote - SSH`æ’ä»¶å¹¶å®‰è£…ã€‚

![](attachments/20250104234434.png)


## 3.3 é€šè¿‡Remote - SSHè¿æ¥åˆ°LinuxæœåŠ¡å™¨

1. æ‰“å¼€VS Codeï¼ŒæŒ‰ä¸‹`Ctrl+Shift+P`ï¼Œè¾“å…¥`Remote-SSH: Add New SSH Host`å¹¶é€‰æ‹©è¯¥é¡¹ã€‚
2. è¾“å…¥SSHè¿æ¥å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š  
   ssh ç”¨æˆ·å@æœåŠ¡å™¨IPåœ°å€  
   ç„¶åé€‰æ‹©ä¸€ä¸ªä¿å­˜SSHé…ç½®çš„è·¯å¾„ï¼ˆé»˜è®¤è·¯å¾„æ˜¯`~/.ssh/config`ï¼‰ã€‚

## 3.4 åœ¨VS Codeä¸­æ‰“å¼€ESP-IDFå·¥ç¨‹

1. ä½¿ç”¨VS Codeçš„`File -> Open Folder`åŠŸèƒ½ï¼Œé€‰æ‹©LinuxæœåŠ¡å™¨ä¸­çš„ESP-IDFé¡¹ç›®ç›®å½•ï¼š
   ä¾‹å¦‚ï¼š `~/esp/esp-idf/examples/get-started/hello_world`
2. æ‰“å¼€é¡¹ç›®åï¼ŒVS Codeä¼šåŠ è½½è¿œç¨‹çš„æ–‡ä»¶ç»“æ„ã€‚

## 3.5 é…ç½®å¯†é’¥ï¼Œå®ç°å…å¯†è¿æ¥

1. åœ¨Windowsä¸‹ä½¿ç”¨`ssh-keygen`ç”Ÿæˆå¯†é’¥ï¼ŒæŒ‰æç¤ºæ“ä½œï¼š
   é»˜è®¤ä¿å­˜è·¯å¾„æ˜¯ ~/.ssh/id_rsaï¼ˆç›´æ¥æŒ‰å›è½¦å³å¯ï¼‰ã€‚å¯ä¸ºå¯†é’¥è®¾ç½®å¯†ç ï¼Œå¦‚æœä¸æƒ³è®¾ç½®ï¼Œç›´æ¥å›è½¦è·³è¿‡ã€‚ç”Ÿæˆå®Œæˆåï¼Œä¼šåœ¨é»˜è®¤è·¯å¾„ä¸‹ç”Ÿæˆï¼š
	- å…¬é’¥ï¼š~/.ssh/id_rsa.pub
	- ç§é’¥ï¼š~/.ssh/id_rsa
2. å°†å…¬é’¥å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨
   åœ¨æœ¬åœ°æœºå™¨ä¸Šï¼Œæ‰¾åˆ°ä½ çš„å…¬é’¥æ–‡ä»¶ï¼ˆé€šå¸¸åœ¨ ~/.ssh/id_rsa.pubï¼‰å¹¶æŸ¥çœ‹å†…å®¹ï¼Œè¿›è¡Œå¤åˆ¶ã€‚
   ä½¿ç”¨ SSH ç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œåˆ›å»º .ssh ç›®å½•å¹¶è®¾ç½®æƒé™
   
``` sh
mkdir -p ~/.ssh
chmod 700 ~/.ssh
```
   
   æ·»åŠ å…¬é’¥åˆ° authorized_keys æ–‡ä»¶ï¼Œç¼–è¾‘ ~/.ssh/authorized_keys æ–‡ä»¶,å°†å¤åˆ¶çš„å…¬é’¥ç²˜è´´åˆ°æ–‡ä»¶ä¸­å¹¶ä¿å­˜.
   
``` sh
nano ~/.ssh/authorized_keys
```

æœ€åï¼Œè®¾ç½® authorized_keys æ–‡ä»¶çš„æƒé™ï¼š

``` sh
chmod 600 ~/.ssh/authorized_keys
```

## 3.6 ç¼–è¯‘å’Œè°ƒè¯•é¡¹ç›®

1. åœ¨ç»ˆç«¯çª—å£ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç¼–è¯‘é¡¹ç›®ï¼š
  ` idf.py build`

2. å¦‚æœéœ€è¦çƒ§å½•ä»£ç åˆ°å¼€å‘æ¿ï¼Œç¡®ä¿å¼€å‘æ¿é€šè¿‡USBè¿æ¥åˆ°LinuxæœåŠ¡å™¨ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
 `idf.py -p /dev/ttyUSB0 flash`
   ï¼ˆæ ¹æ®å®é™…æƒ…å†µæ›¿æ¢æ­£ç¡®çš„ä¸²å£è®¾å¤‡è·¯å¾„ã€‚ï¼‰

3. ç¼–è¯‘å’Œçƒ§å½•å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç›‘æ§ä¸²å£è¾“å‡ºï¼š
  ` idf.py -p /dev/ttyUSB0 monitor`


## å‚è€ƒé“¾æ¥

1. https://www.bilibili.com/video/BV1J14y1n7Ve/?spm_id_from=333.337.search-card.all.click&vd_source=ef5a0ab0106372751602034cdd9ab98e
2. https://blog.csdn.net/ZRongZH/article/details/129237476
3. https://www.bilibili.com/video/BV1Mv4y1U7x9/?spm_id_from=333.999.0.0&vd_source=ef5a0ab0106372751602034cdd9ab98e


