
# ESP32驱动42步进电机

> [!TIP] 🚀 ESP32驱动42步进电机 | XXXXX  
> - 💡 **碎碎念**😎：本节将介绍XXXXXXXXXXXXXXXXXXX  
> - 📺 **视频教程**：🚧 *开发中*  
> - 💾 **示例代码**：🚧 *开发中*  
> 

## 一、介绍

### 1.1 什么是42步进电机？

42步进电机是一种常见的小型两相步进电机，因其电机外壳边长为 42mm 而得名（即 NEMA 17 尺寸标准）。该类电机广泛应用于 3D打印机、激光雕刻机、CNC加工设备、机器人 等对位置控制要求较高的场景。

常见参数如下：

- 步距角：1.8°（每转200步）或 0.9°（每转400步）
- 工作电压：一般为 12V 或 24V
- 峰值电流：0.8A ~ 2A

### 1.2 步进电机工作原理

步进电机是一种将电脉冲信号转换为角位移的电机。当控制器发出一个脉冲信号，电机就按照设定角度旋转一步。通过调节脉冲频率，可以控制电机的转速；通过控制脉冲数量，可以精准控制角位移。

具体的工作原理在此不再赘述，大家可自行上网查阅。由于其不需要编码器即可进行位置控制，特别适合需要开环控制的系统。

下面简单对比步进电机与直流电机 / 伺服电机的区别：

| 特性   | 步进电机            | 直流电机      | 伺服电机       |
| ---- | --------------- | --------- | ---------- |
| 控制方式 | 开环（可闭环）         | 电压/电流控制   | 闭环（带编码器）   |
| 精度   | 高（0.9°\~1.8°/步） | 低         | 非常高（编码器支持） |
| 启停性能 | 好               | 中         | 非常好        |
| 振动噪音 | 较大（尤其低速）        | 小         | 极小         |
| 价格   | 便宜              | 更便宜       | 昂贵         |
| 适合应用 | 中低速定位控制         | 普通旋转/风扇/泵 | 高速高精定位控制   |

值得注意的是，我们需要了解一下细分技术：

传统步进电机的步距角通常为 1.8°（每圈 200 步），在一些对平稳性和精度要求更高的场合，1.8° 的步进角可能仍然过大，运行过程中会出现抖动、不平滑等问题。为此，引入了 细分驱动（Microstepping） 技术。

细分驱动器不是简单地控制电机绕组全电流通断，而是通过 PWM 控制 或 电流恒流分级控制，将每个完整步细分为若干个微小步。比如：

- 半步细分：每步 0.9°，一圈 400 步；
- 1/8 细分：每步 0.225°，一圈 1600 步；
- 1/16 细分：每步 0.1125°，一圈 3200 步；

细分的优势在于提高分辨率和控制精度，运行更平滑、减少共振，降低噪音和震动和改善电机低速运行性能。虽然细分技术能提高控制平滑度，但并不能无限提高“实际定位精度”，因为电机本身的机械和磁滞误差仍然存在。高细分主要用于改善运动特性，而不是绝对定位精度。并且市面上常见的步进电机驱动器基本都支持细分。
### 1.3 常用驱动器

步进电机无法直接由电源驱动，必须通过驱动器精确控制线圈的电流方向与大小。以下是几种常用驱动器及其特点：
#### 1. A4988 驱动芯片

A4988 是一种体积小、成本低的双极步进电机驱动模块，广泛应用于 3D 打印机、桌面级 CNC 等入门级设备。它支持全步、半步、1/4、1/8 和 1/16 微步细分，并带有可调电流限制功能。模块自带过热保护和欠压保护，接口简单、体积小巧，适合面包板快速开发。但需要注意的是，该模块在高电流下易发热，接线错误或通电顺序错误容易烧毁，因此在使用时要特别注意接线安全与散热。

![](attachments/Pasted%20image%2020250604162038.png)
####  2. tb6600 驱动器

TB6600 驱动器是面向工业级场景设计的中功率步进电机驱动器，支持工作电压 9V 到 42V，最大输出电流可达 4.5A，常用于控制较大扭矩的 42、57、86 步进电机。它支持的细分模式从全步到 32步，用户可通过拨码开关手动配置。TB6600 驱动器通常带有铝合金壳体和散热片，接口清晰，安装方便，适用于 CNC 雕刻机、激光切割、机械臂等中大型场合。相比 A4988，TB6600 功率更大、稳定性更好，但体积较大，不适合空间受限的设计，且价格略高。

![](attachments/Pasted%20image%2020250604162227.png)

#### 3.DRV8825驱动芯片

DRV8825 是德州仪器推出的一款高性能步进电机驱动器，与 A4988 引脚兼容但性能更强。其支持最多 1/32 步细分。相比 A4988，它支持更高的工作电压，能够在更高速度下提供更大的扭矩，同时运行更安静，抖动更小。它适用于对噪音和稳定性有更高要求的项目，如中高端 3D 打印机或机器人项目。不过也需注意散热问题，可以在模块上添加散热片。

![](attachments/Pasted%20image%2020250604162407.png)



## 二、使用

下面简单介绍一下使用ESP32配合DRV8825驱动芯片驱动42步进电机：

首先介绍DRV8825驱动模块，我们买到的DRV8825步进驱动模块一般如下图：

![](attachments/Pasted%20image%2020250604162407.png)

DRV8825 是德州仪器设计的集成电机驱动芯片。 芯片内部集成了2个H桥电路和1/32微步进分度器， 可以驱动一个双极型电机或两个直流有刷电机。主要有如下特点:

1. 适合驱动8.2V~45V2.5A以下的步进电机:
2. 只有简单的步进和方向控制接口;
3. 六个不同的步进模式:全、半、1/4、1/8、1/16、1/32;
4. 可调电位器可以调节最大电流输出，从而获得更高的步进率;
5. 自动电流衰减模式检测/选择;
6. 过热关闭电路、欠压锁定、交叉电流保护;

它的引脚定义是这样的：


![](attachments/Pasted%20image%2020250604164929.png)


这是芯片手册中的简化控制示意图：

![](attachments/Pasted%20image%2020250604164852.png)

## 三、示例







# 参考链接

